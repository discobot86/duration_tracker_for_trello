<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Estimated Time Field</title>
  <!-- Trello Power-Up styles -->
  <link rel="stylesheet" href="https://p.trellocdn.com/power-up.min.css" />
</head>
<body>
  <div class="window-module">
    <h3 class="window-module-title">Estimated Time (hrs)</h3>
    <div class="window-module-content">
      <fieldset class="field-group">
        <label class="label" for="estimatedTime">Enter hours</label>
        <input
          type="text"
          id="estimatedTime"
          class="field"
          placeholder="e.g. 2.5"
        />
      </fieldset>
    </div>
  </div>

  <script src="https://p.trellocdn.com/power-up.min.js"></script>
  <script>
    var t = window.TrelloPowerUp.iframe();

    // load any saved value
    t.get('card', 'shared', 'estimatedTime')
      .then(function(value) {
        if (value) {
          document.getElementById('estimatedTime').value = value;
        }
      });

    // save on blur (or change, if you prefer)
    document.getElementById('estimatedTime')
      .addEventListener('blur', function() {
        t.set('card', 'shared', 'estimatedTime', this.value);
      });

    // auto resize the iframe to fit
    t.sizeTo('body');
  </script>
</body>
</html>
