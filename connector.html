<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Duration Tracker Connector</title>
</head>
<body>
  <!-- 1) Load the Trello Power-Up library -->
  <script src="https://p.trellocdn.com/power-up.min.js"></script>

  <script>
    window.TrelloPowerUp.initialize({
      // 2) Declare card-back-section capability exactly as Trello expects:
      'card-back-section': function(t, options) {
        return {
          // (a) Small icon next to the header (replace with your icon URL):
          icon: 'https://discobot86.github.io/duration_tracker_for_trello/icon.png',
          // (b) This text (“Est. Time (hrs)”) appears in Trello’s card header,
          //     aligned just like the built-in “Description” label does:
          title: 'Est. Time (hrs)',
          // (c) Load index.html inside a VERY small iframe initially:
          content: {
            type: 'iframe',
            url: 'https://discobot86.github.io/duration_tracker_for_trello/index.html'
          },
          // (d) Fallback height: 50px. If sizeToFit() never runs, Trello will
          //     only allocate ~50px. Once index.html calls sizeToFit(), it will
          //     shrink to exactly what’s needed (likely ~30px or so).
          height: 50
        };
      }
    });
  </script>
</body>
</html>
